В данной теме я хочу пробежаться и придать немного геометрической интуиции по некоторым аспектам математичсекого анализа

Иногда будем ссылаться на одномерный анализ, чтобы утвержедния были понятнее

## Понятие производной и ее геометрический смысл
Предположим, у нас есть функция
$$
f: R^m \to R
$$

Постараемся как и для одномерного случая определить значение производной

Рассмотрим изменение по одной из осей $R^m$
Обозначим ее за $x_1$

$$
f(x, x_2, x_3 ... x_m) = f_1(x)
$$

Так как остальные значения я зафиксировал
Получается функция $f_1: R \to R$
Посмотрим на ее производную


$$
f_1(x + \Delta x) = f_1(x) + f_1'(x) * \Delta x + o(|\Delta x|)
$$


Введем обозначение

$$
\frac{\partial f}{\partial x_1} := f_1'(x)
$$

Окей, давайте поймем физический смысл $\frac{\partial f}{\partial x_1}$

Это линейное приращение по перемнной $x_1$, при ее малых изменениях

Аналогичную операцию можно провернуть для любого $i$

### I Касательная плоскость $(f:R^2 \to R$)

Рассмотрим график

![](graph.gif)

Тут изображен график $x^2 + y^2$ и выбрана точка $P(1, 2)$
Я построил два вектора, один их них имеет фиксированную координтату по *y = 2* и наклон по оси *x* равный $\frac{\partial f}{\partial x}$ - это <span style="color: red;">красная прямая</span>

Аналогично на графике изображена прямая с фиксированной координатой по *x = 1* и наклон по оси *y* равный $\frac{\partial f}{\partial y}$ - <span style="color: blue;">синяя прямая</span>

Можем заметить, что данные вектора лежат на **касательной плоскости**, проведенной к точке $P$
Это очень классная и приятная конструкция

*Также интуитивно может быть ясно, что малая окресность нашей поверхности может быть апроксимирована с помощью касательной плоскости*!

Вычислим уравнение этой плоскости:
$$
z = f(x, y) + f_x'(x, y) (x - x_0) + f_y(x, y) (y - y_0)
$$


Давайте напишем равенство, вытекающее из этого факта

#### I.I Производная

$$
f(x + \Delta x, y + \Delta y) = f(x, y) + (f_x'(x, y), f_y'(x, y)) * \begin{bmatrix} \Delta x \\ \Delta y \end{bmatrix} + o(|\begin{bmatrix} \Delta x \\ \Delta y \end{bmatrix}|)
$$


Вот эта штука

$$
f(x, y) + (f_x'(x, y), f_y(x, y)) * \begin{bmatrix} \Delta x \\ \Delta y \end{bmatrix}
$$

Это значение $z$ на касательной плоскости к точке $(x, y)$ в точке $(x + \Delta x, y + \Delta y)$

---
*Тут я хочу подчеркнуть очень важное замечание
В одномерном случае у нас была апроксимация функции с помощью прямой, а в двумерном случае мы можем апроксимировать с помощью плоскости!*

---

#### I.II Важный пример применения апроксимации $(f:R^2 \to R$)


Рассмотрим поверхность, заданную уравнением \( z = f(x, y) \), и предположим, что нам нужно вычислить поверхностный интеграл
\[
I = \iint_S f(x, y, z) dS,
\]

##### Апроксимация поверхности касательной плоскостью

Разобъем интеграл на малые поверхности
\[
I_{dS} = \iint_{dS} f(x, y, z) dS,
\]
Значение функции в точке на поверзности будет почти везде одинакова, поэтому ее можно вынести за скобку
\[
I_{dS} = f(x_0, y_0, z_0)\iint_{dS}  dS,
\]

Поверхность $dS$ можно апроксимировать касательной плоскостью
Назовем ее $Q$
##### Вычисление коэффициента масштабирования
Элемент площади поверхности $Q$ можно выразить через проекцию на плоскость \( Oxy \). Для этого найдём угол между нормалью \( \mathbf{n} \) к поверхности и осью \( Oz \).

Мы знаем, что вектора $(x, 0, x * \frac{\partial f}{\partial x}(x_0, y_0))$ и $(0, y, y * \frac{\partial f}{\partial y}(x_0, y_0))$ лежат в касательной плосксти
Также изестно, что они перпендикулярны
Поэтому нормаль мы можем вычислить при момощиб их векторного произведения
$$
\mathbf{n} = \frac{\partial f}{\partial x}(x_0, y_0) \times \frac{\partial f}{\partial y}(x_0, y_0)
$$

Если посчитать косинус по определению 
$$
cos \theta = \frac{\mathbf{n} \cdot (0, 0, 1)}{|\mathbf{n}|}
$$

Косинус угла \( \theta \) между нормалью и осью \( Oz \) равен (это вытекает из предыдущей строчки, но рассчеты я опустил)
\[
\cos \theta = \frac{1}{\sqrt{1 + \frac{\partial f}{\partial x}^2 + \frac{\partial f}{\partial y}^2}}.
\]

Так как элемент площади поверхности \( dS \) в проекции на плоскость \( Oxy \) даёт элемент площади \( dxdy \), учитывая масштабный коэффициент, получаем связь:
\[
dS = \frac{dxdy}{\cos \theta} = \sqrt{1 + f_x'^2 + f_y'^2} \, dxdy.
\]

##### Итоговая замена переменных
Подставляя это выражение в интеграл, получаем его преобразование к интегралу по \( x, y \):
\[
I = \iint_D f(x, y, f(x, y)) \sqrt{1 + f_x'^2 + f_y'^2} \, dxdy.
\]
Таким образом, мы выразили поверхностный интеграл через двойной интеграл по плоскости \( Oxy \).

---


### II. Замена переменных в подынтегральном выражении $(f:R^2 \to R$)

Давайте теперь разберемся с заменой переменных в интеграле
$$
I = \iint_Df(x, y)dxdy
$$

И предположим, что 
$$
x = x(u, v),
y = y(u, v)
$$

$$
I = \iint_Df(x, y)dxdy = \iint_{\mathbf{\Omega}} G(x(u, v), y(u, v))dudv
$$

Нам бы хотелось разбить область $\mathbf{\Omega}$ на мальенькие подобласти.
Для удобства они будут прямоугольными
И по аналогии с предыдущим разделом апроксимировать подобласти с помощью плоскостей и далее найти коэффициент отношения площадей подобластей в координатах (x, y) и (u, v)

Мне бы хотелось показать геометрическое сообажение

$$
x = x(u, v),
y = y(u, v)
$$

Давайте рассмотрим кривую $\mathbf{\gamma}: R \to R^2$

Также рассмотрим ее параметризацию t

$$
    \mathbf{\gamma}(t) = \begin{bmatrix} x(t) \\ y(t) \end{bmatrix}
$$

Тогда

$$
    \mathbf{\gamma}_t' = \begin{bmatrix} x_t'(t) \\ y_t'(t) \end{bmatrix}
$$

Зафиксируем значение t = $t_0$

$$
\mathbf(\gamma)(t_0) = (x_0, y_0)
$$

$\begin{bmatrix} x_t'(t_0) \\ y_t'(t_0) \end{bmatrix}$ - будет касательным вектором к кривой в координатах $(x, y)$ в точке $t_0$


При замене базиса касательный вектор не поменяется (фактически расположение точек не изменилось. $\mathbf{\gamma}$ как лежала в простанстве R^3 , так и лежит). Но изменятся координаты базиса

$$
\begin{bmatrix} x_t'(t_0) \\ y_t'(t_0) \end{bmatrix} = \begin{bmatrix} x_t'(u(t_0), v(t_0)) \\ y_t'(u(t_0). v(t_0)) \end{bmatrix} = \begin{bmatrix} \frac{\partial x}{\partial u} u_t' + \frac{\partial x}{\partial v} v_t'
\\ \frac{\partial y}{\partial u} u_t' + \frac{\partial y}{\partial v} v_t'
 \end{bmatrix}
$$
А в базисе (u, v) это будет выглядить так:
$$
\mathbf{\gamma}_t' = \begin{bmatrix} u_t' \\ v_t'
 \end{bmatrix}
$$


напишем матрицу перехода при смене базиса

$$
    \begin{bmatrix} 
        x(t)' \\ y(t)'
    \end{bmatrix} = 
    \begin{bmatrix} 
        \frac{\partial x}{\partial u}  \frac{\partial x}{\partial v}
        \\ \frac{\partial y}{\partial u} \frac{\partial y}{\partial v}
    \end{bmatrix}
    \begin{bmatrix} 
        u(t)' \\ v(t)'
    \end{bmatrix}
$$

$
    \begin{bmatrix} 
        \frac{\partial x}{\partial u}  \frac{\partial x}{\partial v}
        \\ \frac{\partial y}{\partial u} \frac{\partial y}{\partial v}
    \end{bmatrix}
$ - это называется матрица Якоби

Заметим, что матрица Якоби фиксированная для точки
Получается, что наша формула верна для любого направления касательного вектора (и от $\mathbf{\gamma}$ выражение тоже не зависит)

Соберем воедино все, что мы получили
Выберем окресность точки $(u_0, v_0)$
Пусть в данной окресности матрица Якоби почти не изменятеся
Рассмотрим два вектора $(\Delta u, 0)$ и $(0, \Delta v)$

Постоим четыре кривые

$$\mathbf{\gamma}_1 = (x(u, v_0), y(u, v_0))$$
$$\mathbf{\gamma}_2 = (x(u_0, v), y(u_0, v))$$
$$\mathbf{\gamma}_3 = (x(u, v_0 + \Delta v), y(u, v_0 + \Delta v))$$
$$\mathbf{\gamma}_4 = (x(u_0 + \Delta u, v), y(u_0 + \Delta u, v))$$

![](image.jpg)

Они в прересечении образуют мальенкий параллелограм и его площадь мы можем вычислить
По нашему предположению, о том, что матрица Якоби в данной области фиксирована, мы можем вычислить значение векторов в координатах (x, y)
$$
\vec a = \begin{bmatrix}
        \frac{\partial x}{\partial u} \Delta u
        \\ \frac{\partial y}{\partial u} \Delta u
\end{bmatrix}, 
\vec b =
\begin{bmatrix}
        \frac{\partial x}{\partial v} \Delta v
        \\ \frac{\partial y}{\partial v} \Delta v
\end{bmatrix}
$$

Посчитаем площадь, которую они образуют при помощи векторного произведения $\vec a \times \vec b$

$$
    \Delta u \Delta v |\frac{\partial x}{\partial u} \frac{\partial y}{\partial v} - \frac{\partial y}{\partial u} \frac{\partial x}{\partial v}|
$$

($
|\frac{\partial x}{\partial u} \frac{\partial y}{\partial v} - \frac{\partial y}{\partial u} \frac{\partial x}{\partial v}|
$ - Это определитель матрицы Якоби)

То есть локально площади при замене переменных будут отличатся на определитель матрицы Якоби

Напишем финуальную формулу


$$
I = \iint_Df(x, y)dxdy = \iint_{\mathbf{\Omega}} f(x(u, v), y(u, v))|\frac{\partial x}{\partial u} \frac{\partial y}{\partial v} - \frac{\partial y}{\partial u} \frac{\partial x}{\partial v}|dudv
$$


Наше утверждение про замену переменных можно уточнить для многомерного случая аналогичным образом
